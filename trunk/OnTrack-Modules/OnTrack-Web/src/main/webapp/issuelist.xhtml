<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">


<h:form>
		<rich:panel  header="#{msg.issues}">		
			<rich:dataTable id="issuestable" value="#{projectctrl.retrieveIssuesByProject()}" var="item" rows="10">
				<rich:column sortBy="#{item.id}">
					<f:facet name="header">
						<h:outputText value="#{msg.issuecode}" />
					</f:facet>
					<h:outputText value="#{item.id}"/>		
				</rich:column>
				<rich:column sortBy="#{item.issueType.description}">
					<f:facet name="header">
						<h:outputText value="#{msg.issuetype}" />
					</f:facet>
					<h:outputText value="#{item.issueType.description}"/>		
				</rich:column>
				<rich:column>
					<f:facet name="header">
						<h:outputText value="#{msg.issuetitle}" />
					</f:facet>
					<h:outputText value="#{item.title}"/>		
				</rich:column>
				<rich:column>
					<f:facet name="header">
						<h:outputText value="#{msg.issuestatus}" />
					</f:facet>
					<h:outputText value="#{item.currentStatus.description}"/>		
				</rich:column>
				
				<rich:componentControl event="onRowClick" for="issuetablemenu" operation="show" />
			</rich:dataTable>
			
			
			<rich:dataScroller for="issuestable" maxPages="5" />
		</rich:panel>	
		
		<rich:contextMenu id="issuetablemenu" target="issuestable" mode="ajax">
	    	<rich:menuItem label="View" render="popupContent" mode="ajax" action="issueview.xhtml" />
	    </rich:contextMenu>
		   
    </h:form>
</ui:composition>