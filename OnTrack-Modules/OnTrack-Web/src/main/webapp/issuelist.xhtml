<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<style type="text/css">
	.title{
			font-size: 16px;
			color:#1400FF;
		  } 
	
</style>

<script type="text/javascript">

		var x;
		x=$(document);
		x.ready(inicio);
	
		function inicio(){
			var x=$("#issuepaneljq");
			x.draggable();
		   
		}
</script>

<h:form>

		<div id="issuepaneljq">
		<rich:panel id="issuepanelid" header="#{msg.issues}">
			
			<rich:dataTable id="issuestable" value="#{projectctrl.retrieveIssuesByProject()}"  var="item" rows="10">
				<rich:column>
					<f:facet name="header">
						<h:outputText value="#{projectctrl.currentProject.name}" />
					</f:facet>
					<h:panelGrid columns="1">
						<h:outputText value="#{item.id} - #{item.issueType.description} - #{item.title} " styleClass="title"/>
						<h:outputText value="#{item.description}" />
						<h:outputText value="#{item.currentStatus.description} - #{item.owner.completeName()}"/>
					</h:panelGrid>
				</rich:column>
				<rich:column>
					<f:facet name="header">
						<h:outputText value="Ver Issue" />
					</f:facet>
					<a4j:commandLink  action="#{projectctrl.saveSelectedIssue(item)}" render="issueviewformid" >
						<h:graphicImage value="/img/edit64.png" alt="Entrar"/>
					</a4j:commandLink>					
				</rich:column>
				
				
			</rich:dataTable>
			
			
			<rich:dataScroller for="issuestable" maxPages="5" renderIfSinglePage="false"/>
		</rich:panel>	
		</div>
		 
		
		
	    
	   
		   
    </h:form>
    
    <ui:include src="/issueview.xhtml"></ui:include>
	
</ui:composition>