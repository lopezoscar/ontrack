<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">	
	
	<f:view>
	<ui:composition template="/template.xhtml">
				<ui:define name="body">
						<rich:panel header="#{msg.newproject}">
							<h:form>
								<h:panelGrid columns="2" cellspacing="2">
									<h:outputText value="#{msg.name}"/>
									<h:inputText value="#{newprojectctrl.project.projectName}" />	
								</h:panelGrid>
								<rich:panel style="width:560px;">
									<f:facet name="header">
						                <h:outputText value="#{msg.persons}"></h:outputText>
						            </f:facet>
									
						            
						           <rich:panel style="width:220px;">
							            <f:facet name="header">
							                <h:outputText value="#{msg.selectoneuser}"></h:outputText>
							            </f:facet>
							            
							            <rich:select defaultLabel="start typing for select" value="#{newprojectctrl.currentUser}">
							                <f:selectItems value="#{newprojectctrl.retrieveAllUsers()}" />
							               
							            </rich:select>
							           
							        </rich:panel>
							        
							        <rich:panel>
							        
							        	<rich:pickList value="#{newprojectctrl.selectedRoles}" sourceCaption="#{msg.defineroles}" targetCaption="#{msg.selectedUsers}" listWidth="165px" listHeight="100px" orderable="true">
						              	  	<f:selectItems value="#{newprojectctrl.retrieveAllRoles()}" var="role" itemValue="#{role}" itemLabel="#{role.roleName}" />
						            	</rich:pickList>
							        </rich:panel>
						            
						 
						            
								</rich:panel>
								 
								
								<rich:panel header="#{msg.issuestypes}">
									<h:outputText value="#{msg.issuestypes}" />
									<h:inputText value="#{newprojectctrl.currentIssueType.description}" />
									<h:commandButton value="#{msg.save}" action="#{newprojectctrl.saveIssueType()}" />
								</rich:panel>
								
								
								<rich:panel header="#{msg.propertytypes}">
									<h:commandButton value="#{msg.create}"  >
										<rich:componentControl target="popup" operation="show" />
									</h:commandButton>
								</rich:panel>
											
								
								<h:commandButton value="#{msg.createproject}" action="#{newprojectctrl.createProject()}" />
							</h:form>
						
						</rich:panel>
						
							<rich:popupPanel id="popup" modal="true"  resizeable="true" moveable="true">
							<f:facet name="header">
					            <h:outputText value="Simple popup panel" />
					        </f:facet>
					        <f:facet name="controls">
					            <h:outputLink value="#" onclick="#{rich:component('popup')}.hide(); return false;">
					                X
					            </h:outputLink>
					        </f:facet>
								<rich:panel header="Panel">
									<h:outputText value="hola"/>
								</rich:panel>
							</rich:popupPanel>
				</ui:define>
	</ui:composition>	
	</f:view>

		
	
</ui:composition>